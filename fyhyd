from playwright.sync_api import sync_playwright
 
with sync_playwright() as p:
    # 启动浏览器
    browser = p.chromium.launch(headless=False)
    page = browser.new_page()
 
    # 访问目标网页
    url = 'http://example.com'
    page.goto(url)
 
    # 等待页面加载完成
    page.wait_for_timeout(5000)  # 可以根据页面加载时间调整
 
    # 提取动态加载的内容
    items = page.query_selector_all('div.item')
    for item in items:
        title = item.query_selector('a.title').inner_text()
        link = item.query_selector('a').get_attribute('href')
        print(f'Title: {title}, Link: {link}')
 
    # 关闭浏览器
    browser.close()
